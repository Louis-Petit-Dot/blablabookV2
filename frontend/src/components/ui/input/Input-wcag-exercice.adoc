= Exercice : Cr√©er Input WCAG 2.2 AA depuis z√©ro
:toc:
:toclevels: 3

== Objectif

Apprendre √† cr√©er un composant Input **accessible WCAG 2.2 AA** en partant de z√©ro, √©tape par √©tape.

**Dur√©e estim√©e :** 3-4 heures (+ 2h lecture docs)

**Pr√©requis :**
- Connaissances React de base
- Projet React + TypeScript configur√©

---

== √âTAPE 1 : Version minimale (10 min)

=== Objectif

Cr√©er un Input React basique fonctionnel.

=== Code √† √©crire

Cr√©e `Input-v2.tsx` dans un dossier de test :

[source,typescript]
----
// Input-v2.tsx - VERSION 1
export function Input({ label, type = "text" }) {
  return (
    <div>
      <label>{label}</label>
      <input type={type} />
    </div>
  )
}
----

=== Utilisation test

[source,tsx]
----
<Input label="Email" type="email" />
----

=== ‚úÖ Validation

- [ ] Le label s'affiche
- [ ] L'input est fonctionnel
- [ ] Le type est appliqu√©

=== üìö Ressources

Aucune ressource n√©cessaire, c'est du React de base.

---

== √âTAPE 2 : Ajouter TypeScript (15 min)

=== Objectif

Typer les props pour avoir l'autocompl√©tion et √©viter les erreurs.

=== Code √† √©crire

[source,typescript]
----
// Input-v2.tsx - VERSION 2
interface InputProps {
  label: string
  type?: string  // ? = optionnel
}

export function Input({ label, type = "text" }: InputProps) {
  return (
    <div>
      <label>{label}</label>
      <input type={type} />
    </div>
  )
}
----

=== üìö Ressources

**React + TypeScript Cheatsheet :**
https://react-typescript-cheatsheet.netlify.app/docs/basic/getting-started/basic_type_example/

**Doc officielle React TypeScript :**
https://react.dev/learn/typescript

**Grafikart - TypeScript (fran√ßais) :**
https://grafikart.fr/formations/typescript

=== ‚úÖ Validation

- [ ] Autocompl√©tion fonctionne dans VSCode
- [ ] Erreur TypeScript si prop invalide
- [ ] `type` est optionnel (pas d'erreur si omis)

=== üí° Concepts cl√©s

- `interface` : D√©finit la structure des props
- `?` : Rend une propri√©t√© optionnelle
- `: InputProps` : Type les param√®tres de fonction

---

== √âTAPE 3 : H√©riter les props HTML (20 min)

=== Objectif

Permettre d'utiliser TOUS les attributs HTML d'un `<input>` (placeholder, onChange, disabled, etc.) sans les red√©finir.

=== Code √† √©crire

[source,typescript]
----
// Input-v2.tsx - VERSION 3
import { InputHTMLAttributes } from "react"

interface InputProps extends InputHTMLAttributes<HTMLInputElement> {
  label: string
}

export function Input({ label, ...props }: InputProps) {
  return (
    <div>
      <label>{label}</label>
      <input {...props} />
    </div>
  )
}
----

=== Utilisation test

[source,tsx]
----
<Input
  label="Email"
  type="email"
  placeholder="exemple@email.com"
  onChange={(e) => console.log(e.target.value)}
  disabled={false}
/>
----

=== üìö Ressources

**React TypeScript Cheatsheet - Props :**
https://react-typescript-cheatsheet.netlify.app/docs/basic/getting-started/basic_type_example/#useful-react-prop-type-examples

**MDN - Spread syntax :**
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax

=== ‚úÖ Validation

- [ ] `placeholder` fonctionne
- [ ] `onChange` fonctionne
- [ ] `disabled` fonctionne
- [ ] Autocompl√©tion pour TOUS les attributs HTML

=== üí° Concepts cl√©s

- `extends` : H√©rite d'une interface existante
- `InputHTMLAttributes<HTMLInputElement>` : Type React pour tous les attributs d'un `<input>`
- `...props` : Rest operator - capture tous les props non destructur√©s
- `{...props}` : Spread operator - applique tous les props sur l'√©l√©ment

---

== √âTAPE 4 : Ajouter validation d'erreur (25 min)

=== Objectif

Afficher un message d'erreur et styliser l'input en rouge si erreur.

=== Code √† √©crire

[source,typescript]
----
// Input-v2.tsx - VERSION 4
import { InputHTMLAttributes } from "react"

interface InputProps extends InputHTMLAttributes<HTMLInputElement> {
  label: string
  error?: string
}

export function Input({ label, error, className = "", ...props }: InputProps) {
  return (
    <div style={{ marginBottom: '1rem' }}>
      <label style={{ display: 'block', marginBottom: '0.25rem' }}>
        {label}
      </label>

      <input
        className={`input ${error ? 'input-error' : ''} ${className}`}
        style={{
          padding: '0.5rem',
          border: error ? '2px solid red' : '1px solid #ccc',
          borderRadius: '4px',
          width: '100%'
        }}
        {...props}
      />

      {error && (
        <p style={{ color: 'red', fontSize: '0.875rem', marginTop: '0.25rem' }}>
          {error}
        </p>
      )}
    </div>
  )
}
----

=== Utilisation test

[source,tsx]
----
// Sans erreur
<Input label="Email" type="email" />

// Avec erreur
<Input
  label="Email"
  type="email"
  error="Email invalide"
/>
----

=== üìö Ressources

**React - Conditional Rendering :**
https://react.dev/learn/conditional-rendering

**Template literals (backticks) :**
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals

=== ‚úÖ Validation

- [ ] Message d'erreur s'affiche quand `error` existe
- [ ] Border rouge si erreur
- [ ] Message masqu√© si pas d'erreur
- [ ] Classe CSS dynamique appliqu√©e

=== üí° Concepts cl√©s

- `{error && <p>...</p>}` : Rendu conditionnel - affiche seulement si `error` est truthy
- Template literals : `${variable}` pour injecter variables dans string
- Ternaire : `condition ? valeurSiVrai : valeurSiFaux`

---

== √âTAPE 5 : Ajouter forwardRef (30 min)

=== Objectif

Permettre √† React Hook Form (ou autre lib) de contr√¥ler l'input via une ref.

=== Code √† √©crire

[source,typescript]
----
// Input-v2.tsx - VERSION 5
import { InputHTMLAttributes, forwardRef } from "react"

interface InputProps extends InputHTMLAttributes<HTMLInputElement> {
  label: string
  error?: string
}

export const Input = forwardRef<HTMLInputElement, InputProps>(
  ({ label, error, className = "", ...props }, ref) => {
    return (
      <div style={{ marginBottom: '1rem' }}>
        <label style={{ display: 'block', marginBottom: '0.25rem' }}>
          {label}
        </label>

        <input
          ref={ref}  // ‚≠ê Ajout de la ref
          className={`input ${error ? 'input-error' : ''} ${className}`}
          style={{
            padding: '0.5rem',
            border: error ? '2px solid red' : '1px solid #ccc',
            borderRadius: '4px',
            width: '100%'
          }}
          {...props}
        />

        {error && (
          <p style={{ color: 'red', fontSize: '0.875rem', marginTop: '0.25rem' }}>
            {error}
          </p>
        )}
      </div>
    )
  }
)

Input.displayName = "Input"  // Pour React DevTools
----

=== Utilisation test avec React Hook Form

[source,tsx]
----
import { useForm } from 'react-hook-form'

function MyForm() {
  const { register, handleSubmit, formState: { errors } } = useForm()

  const onSubmit = (data) => console.log(data)

  return (
    <form onSubmit={handleSubmit(onSubmit)}>
      <Input
        label="Email"
        {...register('email', { required: 'Email requis' })}
        error={errors.email?.message}
      />
      <button type="submit">Envoyer</button>
    </form>
  )
}
----

=== üìö Ressources

**React - forwardRef :**
https://react.dev/reference/react/forwardRef

**React Hook Form - Get Started :**
https://react-hook-form.com/get-started

**React Hook Form - register API :**
https://react-hook-form.com/docs/useform/register

=== ‚úÖ Validation

- [ ] Int√©gration React Hook Form fonctionne
- [ ] Validation erreur affich√©e
- [ ] Submit formulaire fonctionne
- [ ] DevTools affiche "Input" (pas "ForwardRef")

=== üí° Concepts cl√©s

- `forwardRef` : HOC qui permet de passer une ref au composant enfant
- Syntaxe : `forwardRef<TypeElement, TypeProps>((props, ref) => {...})`
- `displayName` : Nom affich√© dans React DevTools

---

== √âTAPE 6 : Ajouter WCAG - Jour 1 (30 min)

=== Objectif WCAG

**Crit√®re 3.3.2 - Labels or Instructions (Niveau A) :**
Lier le label √† l'input pour que :
- Cliquer sur le label focus l'input
- Screen readers annoncent le label

=== Code √† √©crire

[source,typescript]
----
// Input-v2.tsx - VERSION 6.1
import { InputHTMLAttributes, forwardRef } from "react"

interface InputProps extends InputHTMLAttributes<HTMLInputElement> {
  label: string
  error?: string
}

export const Input = forwardRef<HTMLInputElement, InputProps>(
  ({ label, error, className = "", id, ...props }, ref) => {
    // ‚≠ê G√©n√®re ID automatique si non fourni
    const inputId = id || label.toLowerCase().replace(/\s+/g, '-')

    return (
      <div style={{ marginBottom: '1rem' }}>
        <label
          htmlFor={inputId}  // ‚≠ê Lie label √† input
          style={{ display: 'block', marginBottom: '0.25rem' }}
        >
          {label}
        </label>

        <input
          ref={ref}
          id={inputId}  // ‚≠ê ID sur input
          className={`input ${error ? 'input-error' : ''} ${className}`}
          style={{
            padding: '0.5rem',
            border: error ? '2px solid red' : '1px solid #ccc',
            borderRadius: '4px',
            width: '100%'
          }}
          {...props}
        />

        {error && (
          <p style={{ color: 'red', fontSize: '0.875rem', marginTop: '0.25rem' }}>
            {error}
          </p>
        )}
      </div>
    )
  }
)

Input.displayName = "Input"
----

=== üìö Ressources

**WCAG 2.2 - Crit√®re 3.3.2 :**
https://www.w3.org/WAI/WCAG22/Understanding/labels-or-instructions.html

**MDN - label element :**
https://developer.mozilla.org/en-US/docs/Web/HTML/Element/label

**WebAIM - Creating Accessible Forms :**
https://webaim.org/techniques/forms/controls

=== ‚úÖ Validation manuelle

Test 1 : **Cliquer sur le label**
- [ ] L'input re√ßoit le focus

Test 2 : **Inspecter le DOM**
- [ ] `<label htmlFor="email">` a le bon ID
- [ ] `<input id="email">` a le m√™me ID

=== üí° Concepts cl√©s

- `htmlFor` : √âquivalent JSX de l'attribut HTML `for`
- Lier label et input via ID permet navigation keyboard et screen readers

---

== √âTAPE 6 : Ajouter WCAG - Jour 2 (30 min)

=== Objectif WCAG

**Crit√®re 3.3.1 - Error Identification (Niveau A) :**
Indiquer aux screen readers qu'il y a une erreur.

=== Code √† √©crire

[source,typescript]
----
// Modifier uniquement la balise <input>
<input
  ref={ref}
  id={inputId}
  className={`input ${error ? 'input-error' : ''} ${className}`}
  aria-invalid={error ? 'true' : 'false'}  // ‚≠ê AJOUT
  style={{
    padding: '0.5rem',
    border: error ? '2px solid red' : '1px solid #ccc',
    borderRadius: '4px',
    width: '100%'
  }}
  {...props}
/>
----

=== üìö Ressources

**WCAG 2.2 - Crit√®re 3.3.1 :**
https://www.w3.org/WAI/WCAG22/Understanding/error-identification.html

**MDN - aria-invalid :**
https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-invalid

**WAI-ARIA Authoring Practices - Forms :**
https://www.w3.org/WAI/ARIA/apg/patterns/alert/examples/alert/

=== ‚úÖ Validation avec screen reader

**Installer NVDA (Windows gratuit) :**
https://www.nvaccess.org/download/

**Tester :**
1. Lance NVDA
2. Tab vers l'input avec erreur
3. Screen reader annonce : "Email, zone de texte, invalide"

- [ ] Annonce "invalide" si `aria-invalid="true"`
- [ ] N'annonce PAS "invalide" si pas d'erreur

=== üí° Concepts cl√©s

- `aria-invalid` : Attribut ARIA qui indique si la valeur est invalide
- Valeurs possibles : `"true"`, `"false"`, `"grammar"`, `"spelling"`

---

== √âTAPE 6 : Ajouter WCAG - Jour 3 (30 min)

=== Objectif WCAG

**Crit√®re 3.3.3 - Error Suggestion (Niveau AA) :**
Lier le message d'erreur √† l'input pour que screen readers le lisent automatiquement.

=== Code √† √©crire

[source,typescript]
----
export const Input = forwardRef<HTMLInputElement, InputProps>(
  ({ label, error, className = "", id, ...props }, ref) => {
    const inputId = id || label.toLowerCase().replace(/\s+/g, '-')

    return (
      <div style={{ marginBottom: '1rem' }}>
        <label htmlFor={inputId} style={{ display: 'block', marginBottom: '0.25rem' }}>
          {label}
        </label>

        <input
          ref={ref}
          id={inputId}
          className={`input ${error ? 'input-error' : ''} ${className}`}
          aria-invalid={error ? 'true' : 'false'}
          aria-describedby={error ? `${inputId}-error` : undefined}  // ‚≠ê AJOUT
          style={{
            padding: '0.5rem',
            border: error ? '2px solid red' : '1px solid #ccc',
            borderRadius: '4px',
            width: '100%'
          }}
          {...props}
        />

        {error && (
          <p
            id={`${inputId}-error`}  // ‚≠ê ID li√© par aria-describedby
            style={{ color: 'red', fontSize: '0.875rem', marginTop: '0.25rem' }}
          >
            {error}
          </p>
        )}
      </div>
    )
  }
)
----

=== üìö Ressources

**WCAG 2.2 - Crit√®re 3.3.3 :**
https://www.w3.org/WAI/WCAG22/Understanding/error-suggestion.html

**MDN - aria-describedby :**
https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-describedby

**A11y 101 - Error Messages :**
https://www.a11y-101.com/development/aria-describedby

=== ‚úÖ Validation avec screen reader

1. Lance NVDA
2. Tab vers l'input avec erreur
3. Screen reader annonce : "Email, zone de texte, invalide, Email invalide"

- [ ] Message d'erreur lu automatiquement
- [ ] Pas de double lecture si pas d'erreur

=== üí° Concepts cl√©s

- `aria-describedby` : Lie un √©l√©ment √† une description (par ID)
- Screen reader lit automatiquement l'√©l√©ment point√© apr√®s le label
- Peut pointer vers plusieurs IDs : `aria-describedby="id1 id2"`

---

== √âTAPE 6 : Ajouter WCAG - Jour 4 (30 min)

=== Objectif WCAG

**Crit√®re 4.1.3 - Status Messages (Niveau AA) :**
Annoncer imm√©diatement les erreurs sans que l'user doive naviguer dessus.

=== Code √† √©crire

[source,typescript]
----
{error && (
  <p
    id={`${inputId}-error`}
    role="alert"  // ‚≠ê AJOUT
    style={{ color: 'red', fontSize: '0.875rem', marginTop: '0.25rem' }}
  >
    {error}
  </p>
)}
----

=== üìö Ressources

**WCAG 2.2 - Crit√®re 4.1.3 :**
https://www.w3.org/WAI/WCAG22/Understanding/status-messages.html

**MDN - role="alert" :**
https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/alert_role

**WAI-ARIA - Alert Role :**
https://www.w3.org/WAI/ARIA/apg/patterns/alert/

=== ‚úÖ Validation avec screen reader

1. Lance NVDA
2. Remplis un input
3. D√©clenche une erreur (ex: validation)
4. Screen reader annonce **imm√©diatement** l'erreur (sans Tab)

- [ ] Erreur annonc√©e d√®s qu'elle appara√Æt
- [ ] Pas besoin de Tab vers le message

=== üí° Concepts cl√©s

- `role="alert"` : R√©gion live qui annonce son contenu d√®s qu'il change
- √âquivalent √† `aria-live="assertive"` + `aria-atomic="true"`
- Utiliser UNIQUEMENT pour messages urgents (erreurs, alertes)

---

== √âTAPE 6 : Ajouter WCAG - Jour 5 (30 min)

=== Objectif WCAG

**Crit√®re 3.3.2 (suite) - Indicateur requis :**
Ajouter un ast√©risque rouge si champ obligatoire.

=== Code √† √©crire

[source,typescript]
----
export const Input = forwardRef<HTMLInputElement, InputProps>(
  ({ label, error, className = "", id, required, ...props }, ref) => {  // ‚≠ê Extraire required
    const inputId = id || label.toLowerCase().replace(/\s+/g, '-')

    return (
      <div style={{ marginBottom: '1rem' }}>
        <label htmlFor={inputId} style={{ display: 'block', marginBottom: '0.25rem' }}>
          {label}
          {required && <span style={{ color: 'red' }}> *</span>}  {/* ‚≠ê AJOUT */}
        </label>

        <input
          ref={ref}
          id={inputId}
          className={`input ${error ? 'input-error' : ''} ${className}`}
          aria-invalid={error ? 'true' : 'false'}
          aria-describedby={error ? `${inputId}-error` : undefined}
          aria-required={required}  // ‚≠ê AJOUT
          style={{
            padding: '0.5rem',
            border: error ? '2px solid red' : '1px solid #ccc',
            borderRadius: '4px',
            width: '100%'
          }}
          {...props}
        />

        {error && (
          <p
            id={`${inputId}-error`}
            role="alert"
            style={{ color: 'red', fontSize: '0.875rem', marginTop: '0.25rem' }}
          >
            {error}
          </p>
        )}
      </div>
    )
  }
)
----

=== Utilisation test

[source,tsx]
----
<Input label="Email" type="email" required />
----

=== üìö Ressources

**MDN - aria-required :**
https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-required

**WebAIM - Required Form Fields :**
https://webaim.org/techniques/forms/controls#required

=== ‚úÖ Validation

- [ ] Ast√©risque rouge affich√© si `required={true}`
- [ ] Screen reader annonce "requis"
- [ ] Validation HTML native fonctionne

=== üí° Concepts cl√©s

- `aria-required` : Indique aux screen readers si le champ est obligatoire
- Diff√©rent de `required` HTML (qui emp√™che submit)
- Les deux peuvent coexister

---

== √âTAPE 7 : SCSS avec clamp() (1h)

=== Objectif

Remplacer les styles inline par CSS Modules + responsive fluide avec `clamp()`.

=== Cr√©er Input.module.scss

[source,scss]
----
@use '../../../styles/variables' as *;

.inputWrapper {
    width: 100%;
    margin-bottom: 1rem;
}

.label {
    display: block;
    font-family: $font-family-base;
    font-size: $font-size-sm;
    font-weight: $font-weight-medium;
    color: $color-text-primary;
    margin-bottom: $spacing-xs;
}

.required {
    color: $error;
}

.input {
    width: 100%;
    // ‚≠ê CLAMP pour padding responsive
    padding: clamp(0.5rem, 2vw, 0.75rem) clamp(0.75rem, 3vw, 1rem);
    // ‚≠ê CLAMP pour font-size responsive
    font-size: clamp(0.875rem, 1.5vw, 1rem);
    color: $color-text-primary;
    background: $white-paper;
    border: 1px solid $color-border-medium;
    border-radius: $border-radius-md;
    transition: all $transition-base;

    // WCAG Focus visible
    &:focus {
        outline: none;
        border-color: $terracotta;
        box-shadow: 0 0 0 3px rgba($terracotta, 0.1);
    }

    &:focus-visible {
        outline: 2px solid $terracotta;
        outline-offset: 2px;
    }

    &:hover:not(:disabled) {
        border-color: $color-border-dark;
    }

    &:disabled {
        background: $beige-page;
        color: $gray-slate;
        cursor: not-allowed;
        opacity: 0.6;
    }
}

.input.error {
    border-color: $error;

    &:focus {
        border-color: $error;
        box-shadow: 0 0 0 3px rgba($error, 0.1);
    }
}

.errorText {
    margin-top: $spacing-xs;
    font-size: $font-size-xs;
    color: $error;
    font-weight: $font-weight-medium;
}
----

=== Modifier Input.tsx

[source,typescript]
----
import styles from "./Input.module.scss"

// Remplacer tous les style={{ ... }} par className={styles.xxx}

<div className={styles.inputWrapper}>
  <label htmlFor={inputId} className={styles.label}>
    {label}
    {required && <span className={styles.required}> *</span>}
  </label>

  <input
    ref={ref}
    id={inputId}
    className={`${styles.input} ${error ? styles.error : ''} ${className}`}
    // ... reste identique
  />

  {error && (
    <p id={`${inputId}-error`} className={styles.errorText} role="alert">
      {error}
    </p>
  )}
</div>
----

=== üìö Ressources

**CSS clamp() - MDN :**
https://developer.mozilla.org/en-US/docs/Web/CSS/clamp

**CSS clamp() - Web.dev :**
https://web.dev/min-max-clamp/

**CSS Modules - Next.js :**
https://nextjs.org/docs/app/building-your-application/styling/css-modules

**Responsive Typography with clamp() :**
https://css-tricks.com/linearly-scale-font-size-with-css-clamp-based-on-the-viewport/

=== ‚úÖ Validation

**Test 1 : Mobile (320px)**
- [ ] Padding petit (8px 12px)
- [ ] Font 14px

**Test 2 : Tablet (768px)**
- [ ] Padding moyen (~10px 14px)
- [ ] Font ~15px

**Test 3 : Desktop (1920px)**
- [ ] Padding maximum (12px 16px)
- [ ] Font 16px

**Test 4 : Focus**
- [ ] Outline terracotta au focus (Tab)
- [ ] Box-shadow au focus (clic)

=== üí° Concepts cl√©s clamp()

**Syntaxe :** `clamp(MIN, ID√âAL, MAX)`

**Exemple :** `clamp(0.5rem, 2vw, 0.75rem)`

* **MIN (0.5rem)** : Taille minimale garantie (mobile 320px)
* **ID√âAL (2vw)** : Taille qui grandit avec viewport (2% largeur √©cran)
* **MAX (0.75rem)** : Taille maximale (desktop 1920px+)

**Comment √ßa fonctionne :**

* Si `2vw < 0.5rem` ‚Üí Utilise 0.5rem (MIN)
* Si `2vw` entre MIN et MAX ‚Üí Utilise 2vw (ID√âAL)
* Si `2vw > 0.75rem` ‚Üí Utilise 0.75rem (MAX)

**Pourquoi pas de @include tablet ?**

Input n'a pas besoin de changer sa **structure** (display, layout) selon breakpoint. Juste les tailles qui scalent progressivement ‚Üí `clamp()` suffit.

---

== √âTAPE 8 : Validation finale (30 min)

=== Tests manuels complets

==== Test 1 : Fonctionnel

- [ ] Input affiche label
- [ ] Input accepte saisie
- [ ] Props HTML fonctionnent (placeholder, type, disabled, etc.)
- [ ] Erreur affich√©e correctement
- [ ] Ast√©risque si required

==== Test 2 : React Hook Form

[source,tsx]
----
import { useForm } from 'react-hook-form'

function TestForm() {
  const { register, handleSubmit, formState: { errors } } = useForm()

  return (
    <form onSubmit={handleSubmit(data => console.log(data))}>
      <Input
        label="Email"
        {...register('email', {
          required: 'Email requis',
          pattern: {
            value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,
            message: 'Email invalide'
          }
        })}
        error={errors.email?.message}
        required
      />
      <button type="submit">Envoyer</button>
    </form>
  )
}
----

- [ ] Validation fonctionne
- [ ] Erreurs affich√©es
- [ ] Submit avec donn√©es valides fonctionne

==== Test 3 : Responsive

Ouvre DevTools, mode responsive :

* **320px** : Petit padding, texte lisible
* **768px** : Padding moyen
* **1920px** : Padding maximum

- [ ] Transitions fluides (pas de saut)
- [ ] Toujours lisible

==== Test 4 : WCAG avec NVDA (Windows)

**Installer NVDA :**
https://www.nvaccess.org/download/

**Tests :**

1. **Tab vers input**
   - [ ] Annonce : "Email, zone de texte, requis"

2. **Tab vers input avec erreur**
   - [ ] Annonce : "Email, zone de texte, invalide, Email invalide"

3. **D√©clenche erreur**
   - [ ] Erreur annonc√©e imm√©diatement (role="alert")

4. **Clic sur label**
   - [ ] Input re√ßoit focus

==== Test 5 : Contraste couleurs

**Outil en ligne :**
https://webaim.org/resources/contrastchecker/

V√©rifie les contrastes :

* Texte label vs background : Ratio ‚â• 4.5:1
* Texte erreur vs background : Ratio ‚â• 4.5:1
* Border vs background : Ratio ‚â• 3:1

- [ ] Tous les contrastes passent WCAG AA

---

== √âTAPE 9 : Comparer avec Input original (15 min)

=== Exercice de comparaison

1. Ouvre `Input.tsx` (version originale)
2. Ouvre `Input-v2.tsx` (ta version)
3. Compare ligne par ligne

**Questions √† te poser :**

- [ ] Ai-je tous les attributs ARIA ?
- [ ] Ai-je le forwardRef correct ?
- [ ] Ai-je les styles SCSS avec clamp() ?
- [ ] Ai-je g√©r√© tous les cas (error, helperText, required) ?
- [ ] Ai-je le displayName ?

**Diff√©rences √† noter :**

* Qu'est-ce que j'ai oubli√© ?
* Qu'est-ce que je ne comprends pas ?
* Qu'est-ce qui pourrait √™tre am√©lior√© ?

---

== Ressources compl√®tes

=== TypeScript + React

* **React TypeScript Cheatsheet** (EN) :
  https://react-typescript-cheatsheet.netlify.app/

* **React Docs - TypeScript** (EN) :
  https://react.dev/learn/typescript

* **Grafikart - TypeScript** (FR, gratuit) :
  https://grafikart.fr/formations/typescript

* **Codecademy - Learn TypeScript** (EN, gratuit) :
  https://www.codecademy.com/learn/learn-typescript

=== WCAG & Accessibilit√©

* **WCAG 2.2 Quick Reference** (EN) :
  https://www.w3.org/WAI/WCAG22/quickref/

* **A11y 101 - D√©butants** (EN) :
  https://www.a11y-101.com/

* **WebAIM - Accessibility Resources** (EN) :
  https://webaim.org/resources/

* **MDN - Accessibility** (EN) :
  https://developer.mozilla.org/en-US/docs/Web/Accessibility

* **W3C WAI-ARIA Authoring Practices** (EN) :
  https://www.w3.org/WAI/ARIA/apg/

* **Screen reader NVDA** (gratuit Windows) :
  https://www.nvaccess.org/download/

* **Contrast Checker** (outil en ligne) :
  https://webaim.org/resources/contrastchecker/

=== React Hook Form

* **React Hook Form - Get Started** (EN) :
  https://react-hook-form.com/get-started

* **React Hook Form - API Reference** (EN) :
  https://react-hook-form.com/docs

* **Grafikart - React Hook Form** (FR, gratuit) :
  https://grafikart.fr/tutoriels/react-hook-form-2057

=== CSS clamp()

* **MDN - clamp()** (EN) :
  https://developer.mozilla.org/en-US/docs/Web/CSS/clamp

* **Web.dev - min(), max(), clamp()** (EN) :
  https://web.dev/min-max-clamp/

* **CSS-Tricks - clamp()** (EN) :
  https://css-tricks.com/linearly-scale-font-size-with-css-clamp-based-on-the-viewport/

* **Utopia - Fluid Responsive Design** (EN, outil) :
  https://utopia.fyi/

=== Outils de validation

* **axe DevTools** (extension Chrome) :
  https://chrome.google.com/webstore/detail/axe-devtools-web-accessib/lhdoppojpmngadmnindnejefpokejbdd

* **WAVE** (extension Chrome) :
  https://chrome.google.com/webstore/detail/wave-evaluation-tool/jbbplnpkjmmeebjpijfedlgcdilocofh

* **Lighthouse** (int√©gr√© Chrome DevTools) :
  Ouvre DevTools ‚Üí Onglet "Lighthouse" ‚Üí Run audit

---

== Plan d'apprentissage 1 mois

=== Semaine 1 : TypeScript + React

**Lundi-Mardi :** TypeScript bases
- [ ] Lire cheatsheet React TypeScript
- [ ] Faire exercice Input √©tapes 1-3

**Mercredi-Jeudi :** forwardRef
- [ ] Lire doc React forwardRef
- [ ] Faire exercice Input √©tape 5

**Vendredi :** React Hook Form
- [ ] Lire doc React Hook Form
- [ ] Int√©grer Input dans formulaire

=== Semaine 2 : WCAG Niveau A

**Lundi :** WCAG 3.3.2 (Labels)
- [ ] Lire spec W3C
- [ ] Faire exercice Input √©tape 6 jour 1

**Mardi :** WCAG 3.3.1 (Error Identification)
- [ ] Lire spec W3C
- [ ] Faire exercice Input √©tape 6 jour 2

**Mercredi :** WCAG 3.3.3 (Error Suggestion)
- [ ] Lire spec W3C
- [ ] Faire exercice Input √©tape 6 jour 3

**Jeudi :** WCAG 4.1.3 (Status Messages)
- [ ] Lire spec W3C
- [ ] Faire exercice Input √©tape 6 jour 4

**Vendredi :** Indicateur requis
- [ ] Faire exercice Input √©tape 6 jour 5
- [ ] Tester avec NVDA

=== Semaine 3 : CSS Responsive

**Lundi-Mardi :** clamp() bases
- [ ] Lire doc MDN clamp()
- [ ] Exp√©rimenter avec padding

**Mercredi :** clamp() font-size
- [ ] Lire article Web.dev
- [ ] Tester responsive

**Jeudi :** CSS Modules
- [ ] Cr√©er Input.module.scss
- [ ] Migrer styles inline vers module

**Vendredi :** Focus visible + √©tats
- [ ] Styles :focus, :hover, :disabled
- [ ] Tester navigation clavier

=== Semaine 4 : Validation & Practice

**Lundi :** Tests manuels
- [ ] Tester tous les cas d'usage
- [ ] Tester avec NVDA

**Mardi :** Validation WCAG
- [ ] axe DevTools
- [ ] WAVE
- [ ] Lighthouse

**Mercredi :** Comparer avec original
- [ ] Noter diff√©rences
- [ ] Comprendre manques

**Jeudi-Vendredi :** Appliquer aux autres composants
- [ ] Cr√©er Select accessible
- [ ] Cr√©er Textarea accessible

---

== R√©sum√© temps investissement

|===
| √âtape | Temps | Cumul

| √âtape 1 : Version minimale
| 10 min
| 10 min

| √âtape 2 : TypeScript
| 15 min
| 25 min

| √âtape 3 : H√©riter props HTML
| 20 min
| 45 min

| √âtape 4 : Validation erreur
| 25 min
| 1h10

| √âtape 5 : forwardRef
| 30 min
| 1h40

| √âtape 6 : WCAG (5 jours √ó 30 min)
| 2h30
| 4h10

| √âtape 7 : SCSS + clamp()
| 1h
| 5h10

| √âtape 8 : Validation finale
| 30 min
| 5h40

| √âtape 9 : Comparaison
| 15 min
| 6h

| **Lecture docs** (parall√®le)
| 2h
| **8h total**
|===

**Apr√®s ces 8h, tu sais cr√©er n'importe quel composant accessible !** üéØ

---

== Prochaines √©tapes

Une fois Input ma√Ætris√©, applique la m√™me m√©thode √† :

1. **Textarea** (similaire √† Input)
2. **Select** (+ complexe, utiliser Radix Select)
3. **Checkbox** (WCAG + aria-checked)
4. **Radio** (groupe avec aria-labelledby)
5. **Switch/Toggle** (role="switch")

**Tu deviens expert accessibilit√© frontend en 1 mois !** üí™
