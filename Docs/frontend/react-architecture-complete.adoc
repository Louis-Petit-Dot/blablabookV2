= Architecture React Compl√®te - BlaBlaBookV2
:toc:
:toc-title: Table des mati√®res
:sectnums:

== Introduction

Ce document explique en d√©tail comment s'articule l'application React : Vite, React Router, la structure des composants, le flow de donn√©es, et les bonnes pratiques.

== Vue d'ensemble du Flow

[source,text]
----
Navigateur
    ‚Üì
index.html (Point d'entr√©e HTML)
    ‚Üì
main.tsx (Point d'entr√©e JS/React)
    ‚Üì
    ‚îú‚îÄ‚Üí BrowserRouter (Contexte de routage)
    ‚îî‚îÄ‚Üí App.tsx (D√©finition des routes)
            ‚Üì
            ‚îî‚îÄ‚Üí Routes (React Router)
                    ‚Üì
                    ‚îú‚îÄ‚Üí Page Component (ex: DemoPage)
                    ‚îÇ       ‚Üì
                    ‚îÇ       ‚îú‚îÄ‚Üí Composants enfants (ex: ApiTest)
                    ‚îÇ       ‚îú‚îÄ‚Üí Appels API (via api.ts)
                    ‚îÇ       ‚îî‚îÄ‚Üí State management (useState, Zustand, etc.)
                    ‚îÇ
                    ‚îî‚îÄ‚Üí Styles (SCSS)
----

== 1. Vite - Le Build Tool

=== Qu'est-ce que Vite ?

**Vite** est un outil de build moderne qui remplace Create React App (CRA).

**Avantages** :
- ‚ö° **D√©marrage instantan√©** : pas de bundling initial
- üî• **Hot Module Replacement (HMR)** ultra-rapide
- üì¶ **Build optimis√©** : utilise Rollup en production
- üõ†Ô∏è **Configuration simple**

=== Configuration : vite.config.ts

[source,typescript]
----
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

export default defineConfig({
    // Plugin React (JSX, Fast Refresh)
    plugins: [react()],

    // Configuration du serveur de dev
    server: {
        port: 3001,  // Port du frontend
        proxy: {
            // Redirection des appels /api vers le backend
            '/api': {
                target: 'http://localhost:3000',
                changeOrigin: true
            }
        }
    },

    // Alias de chemins
    resolve: {
        alias: {
            '@': '/src'  // Permet d'√©crire import X from '@/components/X'
        }
    },

    // Configuration CSS/SCSS
    css: {
        preprocessorOptions: {
            scss: {
                api: 'modern-compiler'
            }
        }
    }
})
----

=== Fonctionnalit√©s cl√©s

==== Hot Module Replacement (HMR)

Lorsque tu modifies un fichier :
1. Vite d√©tecte le changement
2. Seul le module modifi√© est recharg√©
3. L'√©tat de l'application est **pr√©serv√©**
4. Pas de rechargement complet de la page

==== Proxy API

[source,typescript]
----
proxy: {
    '/api': {
        target: 'http://localhost:3000',
        changeOrigin: true
    }
}
----

**Permet** :
- Appeler `/api/users` depuis le frontend
- Vite redirige automatiquement vers `http://localhost:3000/api/users`
- √âvite les probl√®mes CORS en d√©veloppement

**Exemple** :
[source,typescript]
----
// Au lieu de :
await api.get('http://localhost:3000/api/users')

// Tu peux √©crire :
await api.get('/api/users')
----

==== Alias de chemins

[source,typescript]
----
resolve: {
    alias: {
        '@': '/src'
    }
}
----

**Permet** :
[source,typescript]
----
// Au lieu de :
import Button from '../../../components/Button'

// Tu peux √©crire :
import Button from '@/components/Button'
----

==== Variables d'environnement

Vite expose les variables `VITE_*` via `import.meta.env` :

[source,bash]
----
# .env
VITE_API_URL=http://localhost:3000
VITE_APP_NAME=BlaBlaBookV2
----

[source,typescript]
----
// Utilisation dans le code
const apiUrl = import.meta.env.VITE_API_URL
const appName = import.meta.env.VITE_APP_NAME

// Variables par d√©faut
import.meta.env.MODE      // 'development' | 'production'
import.meta.env.DEV       // true en dev
import.meta.env.PROD      // true en prod
----

‚ö†Ô∏è **Important** :
- Seules les variables `VITE_*` sont expos√©es au frontend
- Elles sont **publiques** dans le bundle final
- Ne jamais y mettre de secrets (API keys, tokens, etc.)

=== Scripts NPM

[source,json]
----
"scripts": {
    "dev": "vite --port 3001",        // D√©marre le serveur de dev
    "build": "tsc && vite build",     // Build de production
    "preview": "vite preview --port 3001",  // Pr√©visualise le build
    "lint": "tsc --noEmit"            // V√©rifie les types TypeScript
}
----

**`npm run dev`** :
- Lance Vite en mode d√©veloppement
- Active le HMR
- Serveur disponible sur `http://localhost:3001`

**`npm run build`** :
1. `tsc` : V√©rifie les types TypeScript
2. `vite build` : Cr√©e le bundle optimis√© dans `dist/`

**`npm run preview`** :
- Sert le build de production localement
- Permet de tester le bundle avant d√©ploiement

---

== 2. React Router - La Navigation

=== Installation

[source,json]
----
"dependencies": {
    "react-router": "^7.9.3",
    "react-router-dom": "^7.9.3"
}
----

=== Int√©gration dans main.tsx

[source,typescript]
----
import { BrowserRouter } from 'react-router-dom'

createRoot(document.getElementById('root')!).render(
    <StrictMode>
        <BrowserRouter>  {/* Fournit le contexte de routage */}
            <App />
        </BrowserRouter>
    </StrictMode>,
)
----

**`<BrowserRouter>`** :
- Utilise l'API `History` du navigateur
- URL propres : `/about`, `/users/123`
- N√©cessite une config serveur pour les routes (redirections vers index.html)

**Alternatives** :
- `<HashRouter>` : URLs avec `#` ‚Üí `/#!/about` (pas de config serveur n√©cessaire)
- `<MemoryRouter>` : Pour les tests, pas d'URL dans le navigateur

=== D√©finition des routes dans App.tsx

[source,typescript]
----
import { Routes, Route } from 'react-router-dom'
import DemoPage from './components/DemoPage'

function App() {
  return (
    <div className="app">
      <Routes>
        <Route path="/" element={<DemoPage />} />
      </Routes>
    </div>
  )
}
----

**Composants React Router** :
- `<Routes>` : Conteneur de toutes les routes
- `<Route>` : D√©finit une route (path ‚Üí component)

=== Structure de routage avanc√©e

[source,typescript]
----
import { Routes, Route, Navigate } from 'react-router-dom'

function App() {
  return (
    <div className="app">
      {/* Layout persistant (optionnel) */}
      <Header />

      <Routes>
        {/* Route simple */}
        <Route path="/" element={<Home />} />

        {/* Route avec param√®tre */}
        <Route path="/users/:id" element={<UserProfile />} />

        {/* Routes imbriqu√©es */}
        <Route path="/dashboard" element={<DashboardLayout />}>
          <Route index element={<DashboardHome />} />
          <Route path="stats" element={<Stats />} />
          <Route path="settings" element={<Settings />} />
        </Route>

        {/* Route prot√©g√©e */}
        <Route element={<ProtectedRoute />}>
          <Route path="/profile" element={<Profile />} />
        </Route>

        {/* Redirection */}
        <Route path="/old-path" element={<Navigate to="/new-path" replace />} />

        {/* 404 - Doit √™tre en dernier */}
        <Route path="*" element={<NotFound />} />
      </Routes>

      <Footer />
    </div>
  )
}
----

=== Param√®tres de route

[source,typescript]
----
// Route d√©finie
<Route path="/users/:id" element={<UserProfile />} />

// Composant UserProfile
import { useParams } from 'react-router-dom'

function UserProfile() {
  const { id } = useParams()  // R√©cup√®re le param√®tre "id" de l'URL

  return <div>Profil de l'utilisateur {id}</div>
}
----

**URL** : `/users/123` ‚Üí `id = "123"`

=== Navigation programmatique

[source,typescript]
----
import { useNavigate } from 'react-router-dom'

function LoginForm() {
  const navigate = useNavigate()

  const handleLogin = async () => {
    await loginUser()
    navigate('/dashboard')  // Redirige vers /dashboard
  }

  return <button onClick={handleLogin}>Se connecter</button>
}
----

=== Liens de navigation

[source,typescript]
----
import { Link, NavLink } from 'react-router-dom'

function Navigation() {
  return (
    <nav>
      {/* Link simple */}
      <Link to="/">Accueil</Link>
      <Link to="/about">√Ä propos</Link>

      {/* NavLink avec classe active */}
      <NavLink
        to="/dashboard"
        className={({ isActive }) => isActive ? 'active' : ''}
      >
        Dashboard
      </NavLink>
    </nav>
  )
}
----

**Diff√©rence Link vs NavLink** :
- `<Link>` : Navigation simple
- `<NavLink>` : Ajoute automatiquement une classe `active` quand l'URL correspond

=== Routes prot√©g√©es

[source,typescript]
----
import { Navigate, Outlet } from 'react-router-dom'

function ProtectedRoute() {
  const isAuthenticated = useAuthStore(state => state.isAuthenticated)

  if (!isAuthenticated) {
    return <Navigate to="/login" replace />
  }

  return <Outlet />  // Affiche les routes enfants
}

// Utilisation
<Route element={<ProtectedRoute />}>
  <Route path="/profile" element={<Profile />} />
  <Route path="/settings" element={<Settings />} />
</Route>
----

---

== 3. Structure de l'Application

=== Arborescence recommand√©e

[source,text]
----
frontend/src/
‚îú‚îÄ‚îÄ main.tsx                    # Point d'entr√©e
‚îú‚îÄ‚îÄ App.tsx                     # Composant racine + routage
‚îú‚îÄ‚îÄ vite-env.d.ts              # Types Vite
‚îÇ
‚îú‚îÄ‚îÄ components/                 # Composants r√©utilisables
‚îÇ   ‚îú‚îÄ‚îÄ ui/                    # Composants UI basiques
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Button.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Input.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Modal.tsx
‚îÇ   ‚îú‚îÄ‚îÄ layout/                # Composants de layout
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Header.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Footer.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Sidebar.tsx
‚îÇ   ‚îú‚îÄ‚îÄ ApiTest.tsx            # Composants sp√©cifiques
‚îÇ   ‚îî‚îÄ‚îÄ DemoPage.tsx
‚îÇ
‚îú‚îÄ‚îÄ pages/                      # Pages (une par route)
‚îÇ   ‚îú‚îÄ‚îÄ Home.tsx
‚îÇ   ‚îú‚îÄ‚îÄ Login.tsx
‚îÇ   ‚îú‚îÄ‚îÄ Dashboard.tsx
‚îÇ   ‚îî‚îÄ‚îÄ NotFound.tsx
‚îÇ
‚îú‚îÄ‚îÄ features/                   # Fonctionnalit√©s (organisation par domaine)
‚îÇ   ‚îú‚îÄ‚îÄ auth/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ stores/
‚îÇ   ‚îî‚îÄ‚îÄ users/
‚îÇ       ‚îú‚îÄ‚îÄ components/
‚îÇ       ‚îú‚îÄ‚îÄ hooks/
‚îÇ       ‚îî‚îÄ‚îÄ services/
‚îÇ
‚îú‚îÄ‚îÄ lib/                        # Utilitaires et config
‚îÇ   ‚îú‚îÄ‚îÄ api.ts                 # Instance Axios
‚îÇ   ‚îî‚îÄ‚îÄ utils.ts               # Fonctions utilitaires
‚îÇ
‚îú‚îÄ‚îÄ hooks/                      # Custom hooks globaux
‚îÇ   ‚îú‚îÄ‚îÄ useAuth.ts
‚îÇ   ‚îî‚îÄ‚îÄ useFetch.ts
‚îÇ
‚îú‚îÄ‚îÄ stores/                     # State management (Zustand)
‚îÇ   ‚îú‚îÄ‚îÄ authStore.ts
‚îÇ   ‚îî‚îÄ‚îÄ userStore.ts
‚îÇ
‚îú‚îÄ‚îÄ types/                      # Types TypeScript
‚îÇ   ‚îú‚îÄ‚îÄ api.ts
‚îÇ   ‚îî‚îÄ‚îÄ user.ts
‚îÇ
‚îî‚îÄ‚îÄ styles/                     # Styles globaux
    ‚îú‚îÄ‚îÄ index.scss             # Point d'entr√©e des styles
    ‚îú‚îÄ‚îÄ _variables.scss        # Variables SCSS
    ‚îî‚îÄ‚îÄ demo.scss
----

=== Diff√©rence Pages vs Components

**Pages** (`pages/`) :
- Un composant par route
- Contient la structure de la page
- Orchestre les composants
- G√®re les donn√©es (fetch, state)

**Components** (`components/`) :
- Composants r√©utilisables
- Pas de logique m√©tier lourde
- Props pour la configuration
- Agnostiques du contexte

**Exemple** :

[source,typescript]
----
// pages/Users.tsx (Page)
function UsersPage() {
  const [users, setUsers] = useState([])

  useEffect(() => {
    fetchUsers().then(setUsers)
  }, [])

  return (
    <div>
      <PageHeader title="Utilisateurs" />
      <UserList users={users} />
      <Pagination total={users.length} />
    </div>
  )
}

// components/UserList.tsx (Composant)
interface Props {
  users: User[]
}

function UserList({ users }: Props) {
  return (
    <ul>
      {users.map(user => (
        <UserCard key={user.id} user={user} />
      ))}
    </ul>
  )
}
----

---

== 4. Anatomie d'un Composant React

=== Structure de base

[source,typescript]
----
import { useState, useEffect } from 'react'
import './MyComponent.scss'

// 1. Types/Interfaces (si TypeScript)
interface Props {
  title: string
  count?: number  // Optionnel
}

// 2. Composant fonctionnel
function MyComponent({ title, count = 0 }: Props) {
  // 3. Hooks (toujours au d√©but)
  const [isOpen, setIsOpen] = useState(false)

  useEffect(() => {
    console.log('Composant mont√©')
  }, [])

  // 4. Fonctions handlers
  const handleClick = () => {
    setIsOpen(!isOpen)
  }

  // 5. Render
  return (
    <div className="my-component">
      <h2>{title}</h2>
      <p>Count: {count}</p>
      <button onClick={handleClick}>
        {isOpen ? 'Fermer' : 'Ouvrir'}
      </button>
    </div>
  )
}

// 6. Export
export default MyComponent
----

=== Props (Propri√©t√©s)

Les props permettent de passer des donn√©es du parent vers l'enfant.

[source,typescript]
----
// Parent
function ParentComponent() {
  return (
    <ChildComponent
      name="Alice"
      age={25}
      isActive={true}
      onUpdate={() => console.log('Updated')}
    />
  )
}

// Enfant
interface ChildProps {
  name: string
  age: number
  isActive: boolean
  onUpdate: () => void
}

function ChildComponent({ name, age, isActive, onUpdate }: ChildProps) {
  return (
    <div>
      <p>{name} - {age} ans</p>
      {isActive && <span>Actif</span>}
      <button onClick={onUpdate}>Mettre √† jour</button>
    </div>
  )
}
----

‚ö†Ô∏è **Les props sont en lecture seule** (immutables)

=== State (√âtat local)

Le state g√®re les donn√©es dynamiques du composant.

[source,typescript]
----
import { useState } from 'react'

function Counter() {
  const [count, setCount] = useState(0)  // √âtat initial = 0

  const increment = () => {
    setCount(count + 1)  // Mise √† jour du state
  }

  return (
    <div>
      <p>Count: {count}</p>
      <button onClick={increment}>+1</button>
    </div>
  )
}
----

**R√®gles** :
- Ne jamais modifier le state directement : ‚ùå `count++`
- Toujours utiliser le setter : ‚úÖ `setCount(count + 1)`
- Le state est local au composant

=== Hooks principaux

==== useState - √âtat local

[source,typescript]
----
const [value, setValue] = useState(initialValue)
----

==== useEffect - Effets de bord

[source,typescript]
----
// Ex√©cut√© apr√®s chaque render
useEffect(() => {
  console.log('Render')
})

// Ex√©cut√© une seule fois au montage
useEffect(() => {
  console.log('Mont√©')
}, [])

// Ex√©cut√© quand 'count' change
useEffect(() => {
  console.log('Count a chang√©:', count)
}, [count])

// Cleanup (nettoyage)
useEffect(() => {
  const timer = setInterval(() => console.log('tick'), 1000)

  return () => clearInterval(timer)  // Cleanup
}, [])
----

==== Custom hooks

Extraction de logique r√©utilisable :

[source,typescript]
----
// hooks/useFetch.ts
function useFetch<T>(url: string) {
  const [data, setData] = useState<T | null>(null)
  const [loading, setLoading] = useState(true)
  const [error, setError] = useState<Error | null>(null)

  useEffect(() => {
    fetch(url)
      .then(res => res.json())
      .then(setData)
      .catch(setError)
      .finally(() => setLoading(false))
  }, [url])

  return { data, loading, error }
}

// Utilisation
function UserProfile() {
  const { data: user, loading } = useFetch<User>('/api/users/123')

  if (loading) return <p>Chargement...</p>

  return <div>{user?.name}</div>
}
----

---

== 5. Exemple Complet : DemoPage

Analysons le composant `DemoPage.tsx` de ton projet :

[source,typescript]
----
import * as Dialog from '@radix-ui/react-dialog'
import * as DropdownMenu from '@radix-ui/react-dropdown-menu'
import * as Tabs from '@radix-ui/react-tabs'
import ApiTest from './ApiTest'
import '../styles/demo.scss'

function DemoPage() {
  return (
    <div className="demo-page">
      <header className="demo-header">
        <h1>D√©mo Radix UI + SCSS</h1>
        <p>Exemples de composants Radix styl√©s avec SCSS</p>
      </header>

      <main className="demo-content">
        {/* Composant enfant */}
        <section className="demo-section">
          <h2>Connexion Backend</h2>
          <ApiTest />
        </section>

        {/* Composant Radix Tabs */}
        <section className="demo-section">
          <h2>Tabs (Onglets)</h2>
          <Tabs.Root defaultValue="tab1" className="tabs-root">
            <Tabs.List className="tabs-list">
              <Tabs.Trigger value="tab1" className="tabs-trigger">
                Profil
              </Tabs.Trigger>
              <Tabs.Trigger value="tab2" className="tabs-trigger">
                Messages
              </Tabs.Trigger>
            </Tabs.List>

            <Tabs.Content value="tab1" className="tabs-content">
              <p>Contenu de l'onglet Profil</p>
            </Tabs.Content>
            <Tabs.Content value="tab2" className="tabs-content">
              <p>Contenu de l'onglet Messages</p>
            </Tabs.Content>
          </Tabs.Root>
        </section>

        {/* Dialog (Modale) */}
        <section className="demo-section">
          <h2>Dialog (Modale)</h2>
          <Dialog.Root>
            <Dialog.Trigger className="button button-primary">
              Ouvrir la modale
            </Dialog.Trigger>

            <Dialog.Portal>
              <Dialog.Overlay className="dialog-overlay" />
              <Dialog.Content className="dialog-content">
                <Dialog.Title className="dialog-title">
                  Titre de la modale
                </Dialog.Title>
                <Dialog.Close className="button button-primary">
                  Confirmer
                </Dialog.Close>
              </Dialog.Content>
            </Dialog.Portal>
          </Dialog.Root>
        </section>
      </main>
    </div>
  )
}

export default DemoPage
----

**Structure** :
1. **Imports** : Composants Radix UI, composant enfant, styles
2. **Composant** : Fonction qui retourne du JSX
3. **JSX** : Structure HTML-like avec composants React
4. **Styles** : Classes CSS/SCSS appliqu√©es
5. **Export** : Rend le composant disponible pour import

---

== 6. Communication entre Composants

=== 1. Props (Parent ‚Üí Enfant)

[source,typescript]
----
function Parent() {
  const user = { name: 'Alice', age: 25 }

  return <Child user={user} />
}

function Child({ user }) {
  return <p>{user.name}</p>
}
----

=== 2. Callbacks (Enfant ‚Üí Parent)

[source,typescript]
----
function Parent() {
  const handleChildClick = (data) => {
    console.log('Enfant a cliqu√©:', data)
  }

  return <Child onAction={handleChildClick} />
}

function Child({ onAction }) {
  return <button onClick={() => onAction('test')}>Cliquer</button>
}
----

=== 3. Context API (Global)

[source,typescript]
----
// Cr√©ation du contexte
const AuthContext = createContext(null)

// Provider
function App() {
  const [user, setUser] = useState(null)

  return (
    <AuthContext.Provider value={{ user, setUser }}>
      <Routes>
        {/* ... */}
      </Routes>
    </AuthContext.Provider>
  )
}

// Consommation dans un composant
function Profile() {
  const { user } = useContext(AuthContext)

  return <p>{user?.name}</p>
}
----

=== 4. Zustand (State global simplifi√©)

[source,typescript]
----
// stores/authStore.ts
import { create } from 'zustand'

interface AuthState {
  user: User | null
  login: (user: User) => void
  logout: () => void
}

export const useAuthStore = create<AuthState>((set) => ({
  user: null,
  login: (user) => set({ user }),
  logout: () => set({ user: null })
}))

// Utilisation dans un composant
function Profile() {
  const user = useAuthStore(state => state.user)
  const logout = useAuthStore(state => state.logout)

  return (
    <div>
      <p>{user?.name}</p>
      <button onClick={logout}>D√©connexion</button>
    </div>
  )
}
----

---

== 7. Styles avec SCSS

=== Structure SCSS

[source,scss]
----
// styles/_variables.scss
$primary-color: #6366f1;
$spacing-base: 1rem;

// styles/index.scss
@import './variables';

* {
  box-sizing: border-box;
}

body {
  font-family: system-ui;
  margin: 0;
}

// styles/demo.scss
@import './variables';

.demo-page {
  padding: $spacing-base * 2;

  .demo-header {
    text-align: center;
    margin-bottom: $spacing-base * 3;
  }
}
----

=== Import dans les composants

[source,typescript]
----
// Import global (main.tsx)
import './styles/index.scss'

// Import local (composant)
import './MyComponent.scss'
----

=== CSS Modules (alternative)

[source,typescript]
----
// MyComponent.module.scss
.container {
  padding: 1rem;
}

// MyComponent.tsx
import styles from './MyComponent.module.scss'

function MyComponent() {
  return <div className={styles.container}>...</div>
}
----

**Avantages** : Classes scoped automatiquement (pas de conflits)

---

== 8. Appels API

=== Via Axios (api.ts)

[source,typescript]
----
import api from '../lib/api'

function UserList() {
  const [users, setUsers] = useState([])
  const [loading, setLoading] = useState(true)

  useEffect(() => {
    api.get('/api/users')
      .then(response => setUsers(response.data))
      .catch(error => console.error(error))
      .finally(() => setLoading(false))
  }, [])

  if (loading) return <p>Chargement...</p>

  return (
    <ul>
      {users.map(user => (
        <li key={user.id}>{user.name}</li>
      ))}
    </ul>
  )
}
----

=== Avec async/await

[source,typescript]
----
useEffect(() => {
  const fetchUsers = async () => {
    try {
      const response = await api.get('/api/users')
      setUsers(response.data)
    } catch (error) {
      console.error(error)
    } finally {
      setLoading(false)
    }
  }

  fetchUsers()
}, [])
----

---

== 9. Bonnes Pratiques

=== Organisation

1. **Un composant = Un fichier**
2. **Nommage** : PascalCase pour les composants (`UserCard.tsx`)
3. **Props** : Interface TypeScript pour chaque composant
4. **D√©composition** : Composants petits et r√©utilisables

=== Performance

1. **√âviter les re-renders inutiles** :
   [source,typescript]
   ----
   const MemoizedComponent = React.memo(MyComponent)
   ----

2. **useCallback pour les fonctions** :
   [source,typescript]
   ----
   const handleClick = useCallback(() => {
     // logique
   }, [dependencies])
   ----

3. **useMemo pour les calculs lourds** :
   [source,typescript]
   ----
   const expensiveValue = useMemo(() => {
     return computeExpensiveValue(data)
   }, [data])
   ----

=== TypeScript

1. **Typer toutes les props**
2. **Typer les states complexes**
3. **Typer les r√©ponses API**

=== Accessibilit√©

1. **Labels pour les inputs**
2. **Alt text pour les images**
3. **ARIA attributes si n√©cessaire**
4. **Navigation au clavier**

---

== 10. Workflow de D√©veloppement

=== Ajout d'une nouvelle page

1. **Cr√©er le composant** : `pages/NewPage.tsx`
2. **Ajouter la route** : Dans `App.tsx`
3. **Cr√©er les composants n√©cessaires** : `components/`
4. **Styliser** : Fichier SCSS associ√©
5. **Tester** : Naviguer vers `/new-page`

**Exemple complet** :

[source,typescript]
----
// 1. pages/About.tsx
function About() {
  return (
    <div className="about-page">
      <h1>√Ä propos</h1>
      <p>BlaBlaBook V2</p>
    </div>
  )
}

export default About

// 2. App.tsx
import About from './pages/About'

function App() {
  return (
    <Routes>
      <Route path="/" element={<Home />} />
      <Route path="/about" element={<About />} />
    </Routes>
  )
}

// 3. styles/about.scss
.about-page {
  padding: 2rem;
  text-align: center;
}
----

=== Ajout d'un composant r√©utilisable

[source,typescript]
----
// components/ui/Button.tsx
interface ButtonProps {
  variant?: 'primary' | 'secondary'
  onClick?: () => void
  children: React.ReactNode
}

function Button({ variant = 'primary', onClick, children }: ButtonProps) {
  return (
    <button
      className={`button button-${variant}`}
      onClick={onClick}
    >
      {children}
    </button>
  )
}

export default Button

// Utilisation
import Button from '@/components/ui/Button'

<Button variant="primary" onClick={() => alert('Cliqu√©')}>
  Cliquer ici
</Button>
----

---

== 11. D√©bogage

=== React DevTools

Extension navigateur pour :
- Inspecter la hi√©rarchie des composants
- Voir les props et state en temps r√©el
- Profiler les performances

=== Console logs

[source,typescript]
----
useEffect(() => {
  console.log('Composant mont√©')
  console.log('Props:', props)
  console.log('State:', state)
}, [])
----

=== React Error Boundaries

[source,typescript]
----
class ErrorBoundary extends React.Component {
  state = { hasError: false }

  static getDerivedStateFromError(error) {
    return { hasError: true }
  }

  componentDidCatch(error, errorInfo) {
    console.error('Error:', error, errorInfo)
  }

  render() {
    if (this.state.hasError) {
      return <h1>Une erreur est survenue</h1>
    }

    return this.props.children
  }
}

// Utilisation
<ErrorBoundary>
  <App />
</ErrorBoundary>
----

---

== R√©sum√© du Flow Complet

[source,text]
----
1. Navigateur charge index.html
2. index.html charge main.tsx via <script type="module">
3. main.tsx monte React dans #root avec BrowserRouter
4. App.tsx d√©finit les routes
5. User navigue vers /dashboard
6. React Router affiche le composant Dashboard
7. Dashboard fait un appel API via api.ts
8. Axios envoie la requ√™te au backend (avec intercepteurs)
9. Backend r√©pond avec des donn√©es JSON
10. Dashboard met √† jour son state avec les donn√©es
11. React re-render Dashboard avec les nouvelles donn√©es
12. Vite HMR permet de voir les changements instantan√©ment
----

== Ressources

- link:https://vitejs.dev/[Vite Documentation]
- link:https://react.dev/[React Documentation]
- link:https://reactrouter.com/[React Router Documentation]
- link:https://www.radix-ui.com/[Radix UI Components]
- link:https://zustand-demo.pmnd.rs/[Zustand State Management]
